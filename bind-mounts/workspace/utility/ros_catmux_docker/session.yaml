---
parameters:
  ROS_MASTER_PORT:
  CUSTOM_1:
  CUSTOM_2:
  CUSTOM_3:
  CUSTOM_4:

common:
  before_commands:
    - if [ "${ROS_MASTER_PORT}" != "None" ]; then export ROS_MASTER_URI=http://localhost:${ROS_MASTER_PORT}; fi

windows:
  - name: CORE
    splits:
      - commands:
        - if [ "${ROS_MASTER_PORT}" == "None" ]; then roscore; else roscore --port ${ROS_MASTER_PORT}; fi
    delay: 4
  - name: CUST
    layout: even-vertical
    splits:
      - commands:
        - if [ "${CUSTOM_1}" == "None" ]; then exit; fi
        - "${CUSTOM_1}"
      - commands:
        - if [ "${CUSTOM_2}" == "None" ]; then exit; fi
        - "${CUSTOM_2}"
      - commands:
        - if [ "${CUSTOM_3}" == "None" ]; then exit; fi
        - "${CUSTOM_3}"
      - commands:
        - if [ "${CUSTOM_4}" == "None" ]; then exit; fi
        - "${CUSTOM_4}"
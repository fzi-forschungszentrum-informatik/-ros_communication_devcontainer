composition:
  # Vehicle - Logic
  - module_path: machines.machine_b.demo_vehicle.simulated_vehicle.run_vehicle
    function: run_vehicle
    arguments:
      connect_to_target: true
      external_terminal: true
  # Vehicle - Communication module
  - module_path: machines.machine_b.demo_vehicle.run_communication
    function: run_communication
    arguments:
      connect_to_target: true
      external_terminal: true
  # Control Center - Logic
  - module_path: machines.machine_a.demo_control_center.simulated_control_center.run_control_center
    function: run_control_center
    arguments:
      connect_to_target: true
      external_terminal: true
  # Control Center - Communication module
  - module_path: machines.machine_a.demo_control_center.run_communication
    function: run_communication
    arguments:
      connect_to_target: true
      external_terminal: true
  # Host - Foxglove Server
  - module_path: machines.machine_a.demo_control_center.simulated_control_center.launch_foxglove_server
    function: launch_foxglove_server
    arguments:
      external_terminal: true
  # Host - Connect to UI via Foxglove Web App
  - module_path: machines.machine_a.demo_control_center.simulated_control_center.launch_browser
    function: launch_browser